# yaml-language-server: $schema=../bundle_schema.json
resources:
  apps:
    genie-slack-app:
      name: "genie-slack-app"
      source_code_path: "../src"
      description: "Slack App for communicating with genie apis"
      config:
        command:
          - "python"
          - main.py
        env:
          - name: FOUNDATION_MODEL_ENDPOINT
            value: ${var.FOUNDATION_MODEL_ENDPOINT}
      resources:
        - name: genie-slack-lakebase
          database:
            database_name: ${resources.database_catalogs.genie_slack_database.database_name}
            instance_name: ${resources.database_instances.genie_slack_lakebase.name}
            permission: CAN_CONNECT_AND_CREATE
